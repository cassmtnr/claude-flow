{"version":3,"sources":["../../../../../../src/modules/gemini-cli/src/core/types.ts"],"sourcesContent":["/**\n * Gemini CLI Module - Type Definitions\n * Based on: gemini/TYPES.md\n */\n\n// ============================================\n// Configuration Types\n// ============================================\n\nexport type AuthMethod = 'google-login' | 'api-key' | 'vertex-ai';\nexport type GeminiModel = 'gemini-2.5-pro' | 'gemini-2.5-flash';\nexport type AnalysisType = 'codebase' | 'architecture' | 'security' | 'dependencies' | 'coverage';\nexport type OutputFormat = 'json' | 'markdown' | 'text';\nexport type AnalysisDepth = 'surface' | 'moderate' | 'deep' | 'comprehensive';\n\nexport interface GeminiCLIConfig {\n  enabled: boolean;\n  authMethod: AuthMethod;\n  apiKey?: string;\n  vertexProject?: string;\n  vertexLocation?: string;\n  defaultModel: GeminiModel;\n  contextLimit: number;\n  requestsPerMinute: number;\n  requestsPerDay: number;\n  analysis: AnalysisConfig;\n  cache: CacheConfig;\n  rateLimit: RateLimitConfig;\n}\n\nexport interface AnalysisConfig {\n  defaultType: AnalysisType;\n  outputFormat: OutputFormat;\n  storeInMemory: boolean;\n  excludePatterns: string[];\n  maxFileSize: number;\n  timeout: number;\n}\n\nexport interface CacheConfig {\n  enabled: boolean;\n  ttl: number;\n  maxSize: number;\n  directory: string;\n}\n\nexport interface RateLimitConfig {\n  enabled: boolean;\n  requestsPerMinute: number;\n  requestsPerDay: number;\n  burstLimit: number;\n}\n\n// ============================================\n// Analysis Types\n// ============================================\n\nexport interface AnalysisRequest {\n  type: AnalysisType;\n  target: string | string[];\n  depth?: AnalysisDepth;\n  query?: string;\n  outputFormat?: OutputFormat;\n  includePatterns?: string[];\n  excludePatterns?: string[];\n  focus?: string[];\n  storeInMemory?: boolean;\n}\n\nexport interface AnalysisResult {\n  success: boolean;\n  requestId: string;\n  timestamp: Date;\n  duration: number;\n  tokenUsage: TokenUsage;\n  summary: string;\n  findings: Finding[];\n  metrics: AnalysisMetrics;\n  recommendations: Recommendation[];\n  rawOutput?: string;\n  errors?: string[];\n}\n\nexport interface TokenUsage {\n  prompt: number;\n  completion: number;\n  total: number;\n}\n\nexport interface Finding {\n  type: string;\n  severity: 'critical' | 'high' | 'medium' | 'low' | 'info';\n  location: string;\n  message: string;\n  suggestion?: string;\n  code?: string;\n  line?: number;\n  column?: number;\n}\n\nexport interface AnalysisMetrics {\n  filesAnalyzed: number;\n  linesOfCode: number;\n  complexity?: number;\n  dependencies?: number;\n  qualityScore?: number;\n}\n\nexport interface Recommendation {\n  type: string;\n  priority: 'high' | 'medium' | 'low';\n  description: string;\n  effort?: string;\n  impact?: string;\n}\n\n// ============================================\n// Module Status Types\n// ============================================\n\nexport interface ModuleStatus {\n  installed: boolean;\n  enabled: boolean;\n  authenticated: boolean;\n  version?: string;\n  authMethod?: AuthMethod;\n  binaryPath?: string;\n  quotaStatus?: QuotaStatus;\n  lastCheck: Date;\n}\n\nexport interface QuotaStatus {\n  requestsPerMinute: {\n    used: number;\n    limit: number;\n    resetAt: Date;\n  };\n  requestsPerDay: {\n    used: number;\n    limit: number;\n    resetAt: Date;\n  };\n}\n\n// ============================================\n// Authentication Types\n// ============================================\n\nexport interface AuthResult {\n  success: boolean;\n  method: AuthMethod;\n  expiresAt?: Date;\n  quotaInfo?: QuotaStatus;\n  error?: string;\n}\n\nexport interface VertexAIConfig {\n  project: string;\n  location: string;\n  serviceAccountPath?: string;\n}\n\n// ============================================\n// Installer Types\n// ============================================\n\nexport interface InstallResult {\n  success: boolean;\n  version?: string;\n  path?: string;\n  error?: string;\n}\n\nexport interface PlatformInfo {\n  os: 'darwin' | 'linux' | 'win32';\n  arch: 'x64' | 'arm64';\n  shell: string;\n  homeDir: string;\n  npmGlobalDir: string;\n}\n\n// ============================================\n// Default Configuration\n// ============================================\n\nexport const DEFAULT_CONFIG: GeminiCLIConfig = {\n  enabled: false,\n  authMethod: 'google-login',\n  defaultModel: 'gemini-2.5-pro',\n  contextLimit: 1000000,\n  requestsPerMinute: 60,\n  requestsPerDay: 1000,\n  analysis: {\n    defaultType: 'codebase',\n    outputFormat: 'markdown',\n    storeInMemory: true,\n    excludePatterns: [\n      'node_modules/**',\n      'dist/**',\n      '.git/**',\n      '*.min.js',\n      '*.map',\n      'coverage/**',\n      '.next/**',\n      'build/**',\n    ],\n    maxFileSize: 10485760, // 10MB\n    timeout: 300000, // 5 minutes\n  },\n  cache: {\n    enabled: true,\n    ttl: 3600000, // 1 hour\n    maxSize: 100,\n    directory: '.claude-flow/cache/gemini',\n  },\n  rateLimit: {\n    enabled: true,\n    requestsPerMinute: 60,\n    requestsPerDay: 1000,\n    burstLimit: 10,\n  },\n};\n"],"names":["DEFAULT_CONFIG","enabled","authMethod","defaultModel","contextLimit","requestsPerMinute","requestsPerDay","analysis","defaultType","outputFormat","storeInMemory","excludePatterns","maxFileSize","timeout","cache","ttl","maxSize","directory","rateLimit","burstLimit"],"mappings":"AAyLA,OAAO,MAAMA,iBAAkC;IAC7CC,SAAS;IACTC,YAAY;IACZC,cAAc;IACdC,cAAc;IACdC,mBAAmB;IACnBC,gBAAgB;IAChBC,UAAU;QACRC,aAAa;QACbC,cAAc;QACdC,eAAe;QACfC,iBAAiB;YACf;YACA;YACA;YACA;YACA;YACA;YACA;YACA;SACD;QACDC,aAAa;QACbC,SAAS;IACX;IACAC,OAAO;QACLb,SAAS;QACTc,KAAK;QACLC,SAAS;QACTC,WAAW;IACb;IACAC,WAAW;QACTjB,SAAS;QACTI,mBAAmB;QACnBC,gBAAgB;QAChBa,YAAY;IACd;AACF,EAAE"}